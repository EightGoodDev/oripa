module.exports=[74285,a=>{"use strict";function b(a){return a.toLocaleString("ja-JP")}function c(a){return`\xa5${a.toLocaleString("ja-JP")}`}function d(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}function e(a){return("string"==typeof a?new Date(a):a).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function f(a){let b="string"==typeof a?new Date(a):a,c=Math.floor((new Date().getTime()-b.getTime())/1e3),e=Math.floor(c/60),f=Math.floor(e/60),g=Math.floor(f/24);return c<60?"たった今":e<60?`${e}分前`:f<24?`${f}時間前`:g<7?`${g}日前`:d(b)}a.s(["formatCoins",()=>b,"formatDate",()=>d,"formatDateTime",()=>e,"formatPrice",()=>c,"formatRelativeTime",()=>f])},35785,a=>{"use strict";a.s(["CATEGORY_LABELS",0,{all:"すべて",sneaker:"スニーカー",card:"トレカ",figure:"フィギュア",game:"ゲーム",other:"その他"},"RARITY_CONFIG",0,{N:{label:"N",color:"#9ca3af",bg:"#374151",glow:""},R:{label:"R",color:"#60a5fa",bg:"#1e3a5f",glow:""},SR:{label:"SR",color:"#a78bfa",bg:"#3b1f7a",glow:"0 0 20px rgba(167,139,250,0.5)"},SSR:{label:"SSR",color:"#fbbf24",bg:"#78350f",glow:"0 0 30px rgba(251,191,36,0.6)"},UR:{label:"UR",color:"#f472b6",bg:"#831843",glow:"0 0 40px rgba(244,114,182,0.7)"}}])},28697,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18239),e=a.i(96438);function f({columns:a,data:f,pageSize:g=20,onRowClick:h,keyField:i="id"}){let[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),p=l?[...f].sort((a,b)=>{let c=a[l],d=b[l];if(null==c||null==d)return 0;let e=c<d?-1:+(c>d);return n?e:-e}):f,q=Math.max(1,Math.ceil(p.length/g)),r=p.slice(j*g,(j+1)*g);return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-gray-800 text-left",children:a.map(a=>(0,b.jsxs)("th",{className:(0,d.cn)("px-4 py-3 text-gray-400 font-medium",a.sortable&&"cursor-pointer select-none hover:text-white",a.className),onClick:a.sortable?()=>{var b;l===(b=a.key)?o(!n):(m(b),o(!0)),k(0)}:void 0,children:[a.label,a.sortable&&l===a.key&&(0,b.jsx)("span",{className:"ml-1",children:n?"↑":"↓"})]},a.key))})}),(0,b.jsx)("tbody",{children:0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:a.length,className:"px-4 py-8 text-center text-gray-500",children:"データがありません"})}):r.map(c=>(0,b.jsx)("tr",{className:(0,d.cn)("border-b border-gray-800/50 hover:bg-gray-900/50 transition-colors",h&&"cursor-pointer"),onClick:h?()=>h(c):void 0,children:a.map(a=>(0,b.jsx)("td",{className:(0,d.cn)("px-4 py-3",a.className),children:a.render?a.render(c):String(c[a.key]??"")},a.key))},String(c[i])))})]})}),q>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-800",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[f.length,"件中 ",j*g+1,"-",Math.min((j+1)*g,f.length),"件"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:0===j,onClick:()=>k(j-1),children:"前へ"}),(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:j>=q-1,onClick:()=>k(j+1),children:"次へ"})]})]})]})}a.s(["default",()=>f])},77983,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(28697),g=a.i(96438),h=a.i(74285),i=a.i(35785);let j={DRAFT:"bg-gray-700 text-gray-300",ACTIVE:"bg-green-900/50 text-green-400",ENDED:"bg-red-900/50 text-red-400",SOLD_OUT:"bg-yellow-900/50 text-yellow-400"},k={DRAFT:"下書き",ACTIVE:"公開中",ENDED:"終了",SOLD_OUT:"完売"};function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=new URLSearchParams;p&&a.set("search",p),r&&a.set("status",r),fetch(`/api/admin/packs${a.toString()?`?${a}`:""}`).then(a=>a.json()).then(a=>m(a)).finally(()=>o(!1))},[p,r]);let t=[{key:"title",label:"タイトル",sortable:!0},{key:"category",label:"カテゴリ",render:a=>i.CATEGORY_LABELS[a.category]||a.category},{key:"pricePerDraw",label:"価格/回",render:a=>(0,h.formatPrice)(a.pricePerDraw),sortable:!0},{key:"remainingStock",label:"在庫",render:a=>`${a.remainingStock} / ${a.totalStock}`},{key:"status",label:"ステータス",render:a=>(0,b.jsx)("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${j[a.status]||""}`,children:k[a.status]||a.status})},{key:"_count",label:"景品数",render:a=>a._count.packPrizes},{key:"createdAt",label:"作成日",render:a=>(0,h.formatDate)(a.createdAt),sortable:!0}];return n?(0,b.jsx)("p",{className:"text-center text-gray-500 py-20",children:"読み込み中..."}):(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"パック管理"}),(0,b.jsx)(e.default,{href:"/admin/packs/new",children:(0,b.jsx)(g.default,{size:"sm",children:"新規作成"})})]}),(0,b.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,b.jsx)("input",{type:"text",placeholder:"タイトル検索...",value:p,onChange:a=>q(a.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid"}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-gold-mid",children:[(0,b.jsx)("option",{value:"",children:"すべてのステータス"}),(0,b.jsx)("option",{value:"DRAFT",children:"下書き"}),(0,b.jsx)("option",{value:"ACTIVE",children:"公開中"}),(0,b.jsx)("option",{value:"ENDED",children:"終了"}),(0,b.jsx)("option",{value:"SOLD_OUT",children:"完売"})]})]}),(0,b.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:(0,b.jsx)(f.default,{columns:t,data:l,onRowClick:b=>a.push(`/admin/packs/${b.id}`)})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_572081f4._.js.map