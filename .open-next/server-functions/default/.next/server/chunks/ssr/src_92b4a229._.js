module.exports=[74285,a=>{"use strict";function b(a){return a.toLocaleString("ja-JP")}function c(a){return`\xa5${a.toLocaleString("ja-JP")}`}function d(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}function e(a){return("string"==typeof a?new Date(a):a).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function f(a){let b="string"==typeof a?new Date(a):a,c=Math.floor((new Date().getTime()-b.getTime())/1e3),e=Math.floor(c/60),f=Math.floor(e/60),g=Math.floor(f/24);return c<60?"たった今":e<60?`${e}分前`:f<24?`${f}時間前`:g<7?`${g}日前`:d(b)}a.s(["formatCoins",()=>b,"formatDate",()=>d,"formatDateTime",()=>e,"formatPrice",()=>c,"formatRelativeTime",()=>f])},28697,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18239),e=a.i(96438);function f({columns:a,data:f,pageSize:g=20,onRowClick:h,keyField:i="id"}){let[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),p=l?[...f].sort((a,b)=>{let c=a[l],d=b[l];if(null==c||null==d)return 0;let e=c<d?-1:+(c>d);return n?e:-e}):f,q=Math.max(1,Math.ceil(p.length/g)),r=p.slice(j*g,(j+1)*g);return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-gray-800 text-left",children:a.map(a=>(0,b.jsxs)("th",{className:(0,d.cn)("px-4 py-3 text-gray-400 font-medium",a.sortable&&"cursor-pointer select-none hover:text-white",a.className),onClick:a.sortable?()=>{var b;l===(b=a.key)?o(!n):(m(b),o(!0)),k(0)}:void 0,children:[a.label,a.sortable&&l===a.key&&(0,b.jsx)("span",{className:"ml-1",children:n?"↑":"↓"})]},a.key))})}),(0,b.jsx)("tbody",{children:0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:a.length,className:"px-4 py-8 text-center text-gray-500",children:"データがありません"})}):r.map(c=>(0,b.jsx)("tr",{className:(0,d.cn)("border-b border-gray-800/50 hover:bg-gray-900/50 transition-colors",h&&"cursor-pointer"),onClick:h?()=>h(c):void 0,children:a.map(a=>(0,b.jsx)("td",{className:(0,d.cn)("px-4 py-3",a.className),children:a.render?a.render(c):String(c[a.key]??"")},a.key))},String(c[i])))})]})}),q>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-800",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[f.length,"件中 ",j*g+1,"-",Math.min((j+1)*g,f.length),"件"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:0===j,onClick:()=>k(j-1),children:"前へ"}),(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:j>=q-1,onClick:()=>k(j+1),children:"次へ"})]})]})]})}a.s(["default",()=>f])},37064,a=>{"use strict";a.s(["RANK_COLORS",0,{BEGINNER:"#9ca3af",BRONZE:"#cd7f32",SILVER:"#c0c0c0",GOLD:"#ffd700",PLATINUM:"#e5e4e2",DIAMOND:"#b9f2ff",VIP:"#ff6b6b"},"RANK_LABELS",0,{BEGINNER:"ビギナー",BRONZE:"ブロンズ",SILVER:"シルバー",GOLD:"ゴールド",PLATINUM:"プラチナ",DIAMOND:"ダイヤモンド",VIP:"VIP"}])},60237,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(28697),f=a.i(96438),g=a.i(74285),h=a.i(37064);let i=["USER","ADMIN","SUPER_ADMIN"],j=["BEGINNER","BRONZE","SILVER","GOLD","PLATINUM","DIAMOND","VIP"],k="bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid";function l(){let a=(0,d.useRouter)(),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("");async function v(){o(!0);let a=new URLSearchParams;p&&a.set("search",p),r&&a.set("role",r),t&&a.set("rank",t);let b=await fetch(`/api/admin/users?${a.toString()}`);b.ok&&m(await b.json()),o(!1)}function w(){v()}(0,c.useEffect)(()=>{v()},[]);let x=[{key:"name",label:"名前",render:a=>(0,b.jsx)("span",{className:a.isActive?"":"text-gray-500 line-through",children:a.name||"—"})},{key:"email",label:"メール",render:a=>(0,b.jsx)("span",{className:"text-gray-400",children:a.email||"—"})},{key:"rank",label:"ランク",sortable:!0,render:a=>(0,b.jsx)("span",{className:"text-xs font-bold px-2 py-0.5 rounded",style:{color:h.RANK_COLORS[a.rank],backgroundColor:`${h.RANK_COLORS[a.rank]}20`},children:h.RANK_LABELS[a.rank]})},{key:"role",label:"ロール",sortable:!0,render:a=>(0,b.jsx)("span",{className:"SUPER_ADMIN"===a.role?"text-red-400 text-xs font-bold":"ADMIN"===a.role?"text-yellow-400 text-xs font-bold":"text-gray-400 text-xs",children:a.role})},{key:"coins",label:"コイン残高",sortable:!0,render:a=>(0,g.formatCoins)(a.coins)},{key:"_count",label:"ガチャ回数",render:a=>(0,g.formatCoins)(a._count.draws)},{key:"createdAt",label:"登録日",sortable:!0,render:a=>(0,g.formatDate)(a.createdAt)}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"ユーザー管理"})}),(0,b.jsxs)("div",{className:"flex flex-wrap items-end gap-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"名前・メールで検索...",value:p,onChange:a=>q(a.target.value),onKeyDown:a=>"Enter"===a.key&&w(),className:k}),(0,b.jsxs)("select",{value:r,onChange:a=>s(a.target.value),className:k,children:[(0,b.jsx)("option",{value:"",children:"全ロール"}),i.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:t,onChange:a=>u(a.target.value),className:k,children:[(0,b.jsx)("option",{value:"",children:"全ランク"}),j.map(a=>(0,b.jsx)("option",{value:a,children:h.RANK_LABELS[a]},a))]}),(0,b.jsx)(f.default,{variant:"outline",size:"sm",onClick:w,children:"検索"})]}),(0,b.jsx)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:n?(0,b.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:"読み込み中..."}):(0,b.jsx)(e.default,{columns:x,data:l,onRowClick:b=>a.push(`/admin/users/${b.id}`)})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=src_92b4a229._.js.map