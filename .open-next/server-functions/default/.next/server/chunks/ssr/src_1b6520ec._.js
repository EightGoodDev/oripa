module.exports=[74285,a=>{"use strict";function b(a){return a.toLocaleString("ja-JP")}function c(a){return`\xa5${a.toLocaleString("ja-JP")}`}function d(a){return("string"==typeof a?new Date(a):a).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}function e(a){return("string"==typeof a?new Date(a):a).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function f(a){let b="string"==typeof a?new Date(a):a,c=Math.floor((new Date().getTime()-b.getTime())/1e3),e=Math.floor(c/60),f=Math.floor(e/60),g=Math.floor(f/24);return c<60?"たった今":e<60?`${e}分前`:f<24?`${f}時間前`:g<7?`${g}日前`:d(b)}a.s(["formatCoins",()=>b,"formatDate",()=>d,"formatDateTime",()=>e,"formatPrice",()=>c,"formatRelativeTime",()=>f])},35785,a=>{"use strict";a.s(["CATEGORY_LABELS",0,{all:"すべて",sneaker:"スニーカー",card:"トレカ",figure:"フィギュア",game:"ゲーム",other:"その他"},"RARITY_CONFIG",0,{N:{label:"N",color:"#9ca3af",bg:"#374151",glow:""},R:{label:"R",color:"#60a5fa",bg:"#1e3a5f",glow:""},SR:{label:"SR",color:"#a78bfa",bg:"#3b1f7a",glow:"0 0 20px rgba(167,139,250,0.5)"},SSR:{label:"SSR",color:"#fbbf24",bg:"#78350f",glow:"0 0 30px rgba(251,191,36,0.6)"},UR:{label:"UR",color:"#f472b6",bg:"#831843",glow:"0 0 40px rgba(244,114,182,0.7)"}}])},55486,a=>{"use strict";var b=a.i(87924),c=a.i(35785);function d({rarity:a}){let d=c.RARITY_CONFIG[a];return(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{color:d.color,backgroundColor:d.bg},children:d.label})}a.s(["default",()=>d])},28697,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18239),e=a.i(96438);function f({columns:a,data:f,pageSize:g=20,onRowClick:h,keyField:i="id"}){let[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),p=l?[...f].sort((a,b)=>{let c=a[l],d=b[l];if(null==c||null==d)return 0;let e=c<d?-1:+(c>d);return n?e:-e}):f,q=Math.max(1,Math.ceil(p.length/g)),r=p.slice(j*g,(j+1)*g);return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-gray-800 text-left",children:a.map(a=>(0,b.jsxs)("th",{className:(0,d.cn)("px-4 py-3 text-gray-400 font-medium",a.sortable&&"cursor-pointer select-none hover:text-white",a.className),onClick:a.sortable?()=>{var b;l===(b=a.key)?o(!n):(m(b),o(!0)),k(0)}:void 0,children:[a.label,a.sortable&&l===a.key&&(0,b.jsx)("span",{className:"ml-1",children:n?"↑":"↓"})]},a.key))})}),(0,b.jsx)("tbody",{children:0===r.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:a.length,className:"px-4 py-8 text-center text-gray-500",children:"データがありません"})}):r.map(c=>(0,b.jsx)("tr",{className:(0,d.cn)("border-b border-gray-800/50 hover:bg-gray-900/50 transition-colors",h&&"cursor-pointer"),onClick:h?()=>h(c):void 0,children:a.map(a=>(0,b.jsx)("td",{className:(0,d.cn)("px-4 py-3",a.className),children:a.render?a.render(c):String(c[a.key]??"")},a.key))},String(c[i])))})]})}),q>1&&(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-800",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[f.length,"件中 ",j*g+1,"-",Math.min((j+1)*g,f.length),"件"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:0===j,onClick:()=>k(j-1),children:"前へ"}),(0,b.jsx)(e.default,{variant:"ghost",size:"sm",disabled:j>=q-1,onClick:()=>k(j+1),children:"次へ"})]})]})]})}a.s(["default",()=>f])},50954,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(28697),g=a.i(96438),h=a.i(55486),i=a.i(74285);let j=[{value:"",label:"すべて"},{value:"N",label:"N"},{value:"R",label:"R"},{value:"SR",label:"SR"},{value:"SSR",label:"SSR"},{value:"UR",label:"UR"}];function k(){let a=(0,d.useRouter)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),s=(0,c.useCallback)(async()=>{n(!0);try{let a=new URLSearchParams;o&&a.set("search",o),q&&a.set("rarity",q);let b=await fetch(`/api/admin/prizes?${a.toString()}`);if(b.ok){let a=await b.json();l(a)}}catch(a){console.error("Failed to fetch prizes:",a)}finally{n(!1)}},[o,q]);(0,c.useEffect)(()=>{s()},[s]);let t=[{key:"name",label:"名前",sortable:!0},{key:"rarity",label:"レアリティ",render:a=>(0,b.jsx)(h.default,{rarity:a.rarity})},{key:"marketPrice",label:"市場価格",sortable:!0,render:a=>(0,i.formatPrice)(a.marketPrice)},{key:"coinValue",label:"コイン価値",sortable:!0,render:a=>(0,i.formatCoins)(a.coinValue)},{key:"_count",label:"使用パック数",render:a=>String(a._count.packPrizes)},{key:"createdAt",label:"作成日",sortable:!0,render:a=>(0,i.formatDate)(a.createdAt)}];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"景品管理"}),(0,b.jsx)(e.default,{href:"/admin/prizes/new",children:(0,b.jsx)(g.default,{size:"sm",children:"新規作成"})})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"景品名で検索...",value:o,onChange:a=>p(a.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid"}),(0,b.jsx)("select",{value:q,onChange:a=>r(a.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",children:j.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:m?(0,b.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:"読み込み中..."}):(0,b.jsx)(f.default,{columns:t,data:k,onRowClick:b=>a.push(`/admin/prizes/${b.id}`)})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=src_1b6520ec._.js.map