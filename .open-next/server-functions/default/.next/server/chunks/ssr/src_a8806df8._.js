module.exports=[51973,a=>{"use strict";var b=a.i(87924),c=a.i(18239);function d({label:a,error:d,children:e,className:f}){return(0,b.jsxs)("div",{className:(0,c.cn)("space-y-1",f),children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:a}),e,d&&(0,b.jsx)("p",{className:"text-xs text-red-400",children:d})]})}a.s(["default",()=>d])},16514,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(95245),f=a.i(59501),g=a.i(56757),h=a.i(51973),i=a.i(96438);let j=g.z.object({name:g.z.string().min(1,"名前を入力してください"),description:g.z.string().optional().default(""),image:g.z.string().url("有効なURLを入力してください"),rarity:g.z.enum(["N","R","SR","SSR","UR"]),marketPrice:g.z.coerce.number().int().min(0),coinValue:g.z.coerce.number().int().min(0)});function k(){let a=(0,d.useRouter)(),[g,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(""),{register:n,handleSubmit:o,watch:p,formState:{errors:q}}=(0,e.useForm)({resolver:(0,f.zodResolver)(j),defaultValues:{name:"",description:"",image:"",rarity:"N",marketPrice:0,coinValue:0}}),r=p("image"),s=async b=>{k(!0),m("");try{let c=await fetch("/api/admin/prizes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!c.ok){let a=await c.json();m(a.error||"作成に失敗しました");return}let d=await c.json();a.push(`/admin/prizes/${d.id}`)}catch{m("作成に失敗しました")}finally{k(!1)}};return(0,b.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"景品を作成"}),l&&(0,b.jsx)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg px-4 py-3 text-sm text-red-300",children:l}),(0,b.jsxs)("form",{onSubmit:o(s),className:"space-y-5",children:[(0,b.jsx)(h.default,{label:"名前",error:q.name?.message,children:(0,b.jsx)("input",{type:"text",...n("name"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"景品名を入力"})}),(0,b.jsx)(h.default,{label:"説明",error:q.description?.message,children:(0,b.jsx)("textarea",{...n("description"),rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid resize-none",placeholder:"景品の説明（任意）"})}),(0,b.jsxs)(h.default,{label:"画像URL",error:q.image?.message,children:[(0,b.jsx)("input",{type:"text",...n("image"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"https://..."}),r&&/^https?:\/\/.+/.test(r)&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:r,alt:"プレビュー",className:"w-32 h-32 object-cover rounded-lg border border-gray-700",onError:a=>{a.target.style.display="none"}})})]}),(0,b.jsx)(h.default,{label:"レアリティ",error:q.rarity?.message,children:(0,b.jsxs)("select",{...n("rarity"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",children:[(0,b.jsx)("option",{value:"N",children:"N"}),(0,b.jsx)("option",{value:"R",children:"R"}),(0,b.jsx)("option",{value:"SR",children:"SR"}),(0,b.jsx)("option",{value:"SSR",children:"SSR"}),(0,b.jsx)("option",{value:"UR",children:"UR"})]})}),(0,b.jsx)(h.default,{label:"市場価格（円）",error:q.marketPrice?.message,children:(0,b.jsx)("input",{type:"number",...n("marketPrice"),min:0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"0"})}),(0,b.jsx)(h.default,{label:"コイン価値",error:q.coinValue?.message,children:(0,b.jsx)("input",{type:"number",...n("coinValue"),min:0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"0"})}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(i.default,{type:"submit",size:"sm",disabled:g,children:g?"作成中...":"作成"}),(0,b.jsx)(i.default,{type:"button",variant:"ghost",size:"sm",onClick:()=>a.back(),children:"キャンセル"})]})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=src_a8806df8._.js.map