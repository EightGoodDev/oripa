(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32036,e=>{"use strict";function t(e){return e.toLocaleString("ja-JP")}function r(e){return`\xa5${e.toLocaleString("ja-JP")}`}function a(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}function l(e){return("string"==typeof e?new Date(e):e).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function s(e){let t="string"==typeof e?new Date(e):e,r=Math.floor((new Date().getTime()-t.getTime())/1e3),l=Math.floor(r/60),s=Math.floor(l/60),n=Math.floor(s/24);return r<60?"たった今":l<60?`${l}分前`:s<24?`${s}時間前`:n<7?`${n}日前`:a(t)}e.s(["formatCoins",()=>t,"formatDate",()=>a,"formatDateTime",()=>l,"formatPrice",()=>r,"formatRelativeTime",()=>s])},89271,e=>{"use strict";e.s(["CATEGORY_LABELS",0,{all:"すべて",sneaker:"スニーカー",card:"トレカ",figure:"フィギュア",game:"ゲーム",other:"その他"},"RARITY_CONFIG",0,{N:{label:"N",color:"#9ca3af",bg:"#374151",glow:""},R:{label:"R",color:"#60a5fa",bg:"#1e3a5f",glow:""},SR:{label:"SR",color:"#a78bfa",bg:"#3b1f7a",glow:"0 0 20px rgba(167,139,250,0.5)"},SSR:{label:"SSR",color:"#fbbf24",bg:"#78350f",glow:"0 0 30px rgba(251,191,36,0.6)"},UR:{label:"UR",color:"#f472b6",bg:"#831843",glow:"0 0 40px rgba(244,114,182,0.7)"}}])},90396,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(49838),l=e.i(59544);function s({columns:e,data:s,pageSize:n=20,onRowClick:o,keyField:i="id"}){let[c,d]=(0,r.useState)(0),[u,g]=(0,r.useState)(null),[x,h]=(0,r.useState)(!0),m=u?[...s].sort((e,t)=>{let r=e[u],a=t[u];if(null==r||null==a)return 0;let l=r<a?-1:+(r>a);return x?l:-l}):s,b=Math.max(1,Math.ceil(m.length/n)),f=m.slice(c*n,(c+1)*n);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-gray-800 text-left",children:e.map(e=>(0,t.jsxs)("th",{className:(0,a.cn)("px-4 py-3 text-gray-400 font-medium",e.sortable&&"cursor-pointer select-none hover:text-white",e.className),onClick:e.sortable?()=>{var t;u===(t=e.key)?h(!x):(g(t),h(!0)),d(0)}:void 0,children:[e.label,e.sortable&&u===e.key&&(0,t.jsx)("span",{className:"ml-1",children:x?"↑":"↓"})]},e.key))})}),(0,t.jsx)("tbody",{children:0===f.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:e.length,className:"px-4 py-8 text-center text-gray-500",children:"データがありません"})}):f.map(r=>(0,t.jsx)("tr",{className:(0,a.cn)("border-b border-gray-800/50 hover:bg-gray-900/50 transition-colors",o&&"cursor-pointer"),onClick:o?()=>o(r):void 0,children:e.map(e=>(0,t.jsx)("td",{className:(0,a.cn)("px-4 py-3",e.className),children:e.render?e.render(r):String(r[e.key]??"")},e.key))},String(r[i])))})]})}),b>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-800",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length,"件中 ",c*n+1,"-",Math.min((c+1)*n,s.length),"件"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.default,{variant:"ghost",size:"sm",disabled:0===c,onClick:()=>d(c-1),children:"前へ"}),(0,t.jsx)(l.default,{variant:"ghost",size:"sm",disabled:c>=b-1,onClick:()=>d(c+1),children:"次へ"})]})]})]})}e.s(["default",()=>s])},26260,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(22016),s=e.i(90396),n=e.i(59544),o=e.i(32036),i=e.i(89271);let c={DRAFT:"bg-gray-700 text-gray-300",ACTIVE:"bg-green-900/50 text-green-400",ENDED:"bg-red-900/50 text-red-400",SOLD_OUT:"bg-yellow-900/50 text-yellow-400"},d={DRAFT:"下書き",ACTIVE:"公開中",ENDED:"終了",SOLD_OUT:"完売"};function u(){let e=(0,a.useRouter)(),[u,g]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[m,b]=(0,r.useState)(""),[f,y]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=new URLSearchParams;m&&e.set("search",m),f&&e.set("status",f),fetch(`/api/admin/packs${e.toString()?`?${e}`:""}`).then(e=>e.json()).then(e=>g(e)).finally(()=>h(!1))},[m,f]);let p=[{key:"title",label:"タイトル",sortable:!0},{key:"category",label:"カテゴリ",render:e=>i.CATEGORY_LABELS[e.category]||e.category},{key:"pricePerDraw",label:"価格/回",render:e=>(0,o.formatPrice)(e.pricePerDraw),sortable:!0},{key:"remainingStock",label:"在庫",render:e=>`${e.remainingStock} / ${e.totalStock}`},{key:"status",label:"ステータス",render:e=>(0,t.jsx)("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-medium ${c[e.status]||""}`,children:d[e.status]||e.status})},{key:"_count",label:"景品数",render:e=>e._count.packPrizes},{key:"createdAt",label:"作成日",render:e=>(0,o.formatDate)(e.createdAt),sortable:!0}];return x?(0,t.jsx)("p",{className:"text-center text-gray-500 py-20",children:"読み込み中..."}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"パック管理"}),(0,t.jsx)(l.default,{href:"/admin/packs/new",children:(0,t.jsx)(n.default,{size:"sm",children:"新規作成"})})]}),(0,t.jsxs)("div",{className:"flex gap-3 mb-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"タイトル検索...",value:m,onChange:e=>b(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid"}),(0,t.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-gold-mid",children:[(0,t.jsx)("option",{value:"",children:"すべてのステータス"}),(0,t.jsx)("option",{value:"DRAFT",children:"下書き"}),(0,t.jsx)("option",{value:"ACTIVE",children:"公開中"}),(0,t.jsx)("option",{value:"ENDED",children:"終了"}),(0,t.jsx)("option",{value:"SOLD_OUT",children:"完売"})]})]}),(0,t.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:(0,t.jsx)(s.default,{columns:p,data:u,onRowClick:t=>e.push(`/admin/packs/${t.id}`)})})]})}e.s(["default",()=>u])}]);