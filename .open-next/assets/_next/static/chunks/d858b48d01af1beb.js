(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89271,e=>{"use strict";e.s(["CATEGORY_LABELS",0,{all:"すべて",sneaker:"スニーカー",card:"トレカ",figure:"フィギュア",game:"ゲーム",other:"その他"},"RARITY_CONFIG",0,{N:{label:"N",color:"#9ca3af",bg:"#374151",glow:""},R:{label:"R",color:"#60a5fa",bg:"#1e3a5f",glow:""},SR:{label:"SR",color:"#a78bfa",bg:"#3b1f7a",glow:"0 0 20px rgba(167,139,250,0.5)"},SSR:{label:"SSR",color:"#fbbf24",bg:"#78350f",glow:"0 0 30px rgba(251,191,36,0.6)"},UR:{label:"UR",color:"#f472b6",bg:"#831843",glow:"0 0 40px rgba(244,114,182,0.7)"}}])},43504,e=>{"use strict";var a=e.i(43476),t=e.i(49838);function l({label:e,error:l,children:r,className:s}){return(0,a.jsxs)("div",{className:(0,t.cn)("space-y-1",s),children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:e}),r,l&&(0,a.jsx)("p",{className:"text-xs text-red-400",children:l})]})}e.s(["default",()=>l])},8655,e=>{"use strict";var a=e.i(43476),t=e.i(71645),l=e.i(18566),r=e.i(53145),s=e.i(94814),i=e.i(81307),o=e.i(59544),c=e.i(43504),n=e.i(89271);let d=i.z.object({title:i.z.string().min(1,"タイトルを入力してください"),description:i.z.string().optional().default(""),image:i.z.string().url("有効なURLを入力してください"),category:i.z.enum(["sneaker","card","figure","game","other"]),pricePerDraw:i.z.coerce.number().int().min(1,"1以上を入力"),totalStock:i.z.coerce.number().int().min(1,"1以上を入力"),limitPerUser:i.z.coerce.number().int().min(1).nullable().optional().transform(e=>e||null),startsAt:i.z.string().optional().default(""),endsAt:i.z.string().optional().default(""),featured:i.z.boolean().optional().default(!1)}),u="w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",m=Object.entries(n.CATEGORY_LABELS).filter(([e])=>"all"!==e);function g(){let e=(0,l.useRouter)(),[i,n]=(0,t.useState)(!1),{register:g,handleSubmit:b,formState:{errors:p}}=(0,r.useForm)({resolver:(0,s.zodResolver)(d),defaultValues:{category:"sneaker",featured:!1}});async function x(a){n(!0);try{let t=await fetch("/api/admin/packs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...a,startsAt:a.startsAt||null,endsAt:a.endsAt||null})});if(!t.ok)throw Error("Failed to create");let l=await t.json();e.push(`/admin/packs/${l.id}`)}catch{alert("作成に失敗しました")}finally{n(!1)}}return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"パック新規作成"}),(0,a.jsxs)("form",{onSubmit:b(x),className:"max-w-2xl space-y-4 bg-gray-900 border border-gray-800 rounded-xl p-6",children:[(0,a.jsx)(c.default,{label:"タイトル",error:p.title?.message,children:(0,a.jsx)("input",{...g("title"),className:u})}),(0,a.jsx)(c.default,{label:"説明",error:p.description?.message,children:(0,a.jsx)("textarea",{...g("description"),rows:3,className:u})}),(0,a.jsx)(c.default,{label:"画像URL",error:p.image?.message,children:(0,a.jsx)("input",{...g("image"),placeholder:"https://...",className:u})}),(0,a.jsx)(c.default,{label:"カテゴリ",error:p.category?.message,children:(0,a.jsx)("select",{...g("category"),className:u,children:m.map(([e,t])=>(0,a.jsx)("option",{value:e,children:t},e))})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.default,{label:"1回あたりの価格(コイン)",error:p.pricePerDraw?.message,children:(0,a.jsx)("input",{type:"number",...g("pricePerDraw"),className:u})}),(0,a.jsx)(c.default,{label:"総在庫数",error:p.totalStock?.message,children:(0,a.jsx)("input",{type:"number",...g("totalStock"),className:u})})]}),(0,a.jsx)(c.default,{label:"ユーザーあたりの制限(任意)",error:p.limitPerUser?.message,children:(0,a.jsx)("input",{type:"number",...g("limitPerUser"),placeholder:"制限なし",className:u})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(c.default,{label:"開始日時(任意)",children:(0,a.jsx)("input",{type:"datetime-local",...g("startsAt"),className:u})}),(0,a.jsx)(c.default,{label:"終了日時(任意)",children:(0,a.jsx)("input",{type:"datetime-local",...g("endsAt"),className:u})})]}),(0,a.jsx)(c.default,{label:"",children:(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm text-gray-300 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",...g("featured"),className:"rounded border-gray-600 bg-gray-800 text-gold-mid focus:ring-gold-mid"}),"注目パックとして表示"]})}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)(o.default,{type:"submit",disabled:i,children:i?"作成中...":"作成"}),(0,a.jsx)(o.default,{type:"button",variant:"ghost",onClick:()=>e.back(),children:"キャンセル"})]})]})]})}e.s(["default",()=>g])}]);