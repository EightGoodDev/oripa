(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32036,e=>{"use strict";function t(e){return e.toLocaleString("ja-JP")}function r(e){return`\xa5${e.toLocaleString("ja-JP")}`}function a(e){return("string"==typeof e?new Date(e):e).toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric"})}function l(e){return("string"==typeof e?new Date(e):e).toLocaleString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function s(e){let t="string"==typeof e?new Date(e):e,r=Math.floor((new Date().getTime()-t.getTime())/1e3),l=Math.floor(r/60),s=Math.floor(l/60),n=Math.floor(s/24);return r<60?"たった今":l<60?`${l}分前`:s<24?`${s}時間前`:n<7?`${n}日前`:a(t)}e.s(["formatCoins",()=>t,"formatDate",()=>a,"formatDateTime",()=>l,"formatPrice",()=>r,"formatRelativeTime",()=>s])},89271,e=>{"use strict";e.s(["CATEGORY_LABELS",0,{all:"すべて",sneaker:"スニーカー",card:"トレカ",figure:"フィギュア",game:"ゲーム",other:"その他"},"RARITY_CONFIG",0,{N:{label:"N",color:"#9ca3af",bg:"#374151",glow:""},R:{label:"R",color:"#60a5fa",bg:"#1e3a5f",glow:""},SR:{label:"SR",color:"#a78bfa",bg:"#3b1f7a",glow:"0 0 20px rgba(167,139,250,0.5)"},SSR:{label:"SSR",color:"#fbbf24",bg:"#78350f",glow:"0 0 30px rgba(251,191,36,0.6)"},UR:{label:"UR",color:"#f472b6",bg:"#831843",glow:"0 0 40px rgba(244,114,182,0.7)"}}])},96640,e=>{"use strict";var t=e.i(43476),r=e.i(89271);function a({rarity:e}){let a=r.RARITY_CONFIG[e];return(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{color:a.color,backgroundColor:a.bg},children:a.label})}e.s(["default",()=>a])},90396,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(49838),l=e.i(59544);function s({columns:e,data:s,pageSize:n=20,onRowClick:i,keyField:o="id"}){let[c,d]=(0,r.useState)(0),[u,b]=(0,r.useState)(null),[m,h]=(0,r.useState)(!0),g=u?[...s].sort((e,t)=>{let r=e[u],a=t[u];if(null==r||null==a)return 0;let l=r<a?-1:+(r>a);return m?l:-l}):s,x=Math.max(1,Math.ceil(g.length/n)),f=g.slice(c*n,(c+1)*n);return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-gray-800 text-left",children:e.map(e=>(0,t.jsxs)("th",{className:(0,a.cn)("px-4 py-3 text-gray-400 font-medium",e.sortable&&"cursor-pointer select-none hover:text-white",e.className),onClick:e.sortable?()=>{var t;u===(t=e.key)?h(!m):(b(t),h(!0)),d(0)}:void 0,children:[e.label,e.sortable&&u===e.key&&(0,t.jsx)("span",{className:"ml-1",children:m?"↑":"↓"})]},e.key))})}),(0,t.jsx)("tbody",{children:0===f.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:e.length,className:"px-4 py-8 text-center text-gray-500",children:"データがありません"})}):f.map(r=>(0,t.jsx)("tr",{className:(0,a.cn)("border-b border-gray-800/50 hover:bg-gray-900/50 transition-colors",i&&"cursor-pointer"),onClick:i?()=>i(r):void 0,children:e.map(e=>(0,t.jsx)("td",{className:(0,a.cn)("px-4 py-3",e.className),children:e.render?e.render(r):String(r[e.key]??"")},e.key))},String(r[o])))})]})}),x>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-800",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[s.length,"件中 ",c*n+1,"-",Math.min((c+1)*n,s.length),"件"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.default,{variant:"ghost",size:"sm",disabled:0===c,onClick:()=>d(c-1),children:"前へ"}),(0,t.jsx)(l.default,{variant:"ghost",size:"sm",disabled:c>=x-1,onClick:()=>d(c+1),children:"次へ"})]})]})]})}e.s(["default",()=>s])},37885,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),l=e.i(22016),s=e.i(90396),n=e.i(59544),i=e.i(96640),o=e.i(32036);let c=[{value:"",label:"すべて"},{value:"N",label:"N"},{value:"R",label:"R"},{value:"SR",label:"SR"},{value:"SSR",label:"SSR"},{value:"UR",label:"UR"}];function d(){let e=(0,a.useRouter)(),[d,u]=(0,r.useState)([]),[b,m]=(0,r.useState)(!0),[h,g]=(0,r.useState)(""),[x,f]=(0,r.useState)(""),y=(0,r.useCallback)(async()=>{m(!0);try{let e=new URLSearchParams;h&&e.set("search",h),x&&e.set("rarity",x);let t=await fetch(`/api/admin/prizes?${e.toString()}`);if(t.ok){let e=await t.json();u(e)}}catch(e){console.error("Failed to fetch prizes:",e)}finally{m(!1)}},[h,x]);(0,r.useEffect)(()=>{y()},[y]);let p=[{key:"name",label:"名前",sortable:!0},{key:"rarity",label:"レアリティ",render:e=>(0,t.jsx)(i.default,{rarity:e.rarity})},{key:"marketPrice",label:"市場価格",sortable:!0,render:e=>(0,o.formatPrice)(e.marketPrice)},{key:"coinValue",label:"コイン価値",sortable:!0,render:e=>(0,o.formatCoins)(e.coinValue)},{key:"_count",label:"使用パック数",render:e=>String(e._count.packPrizes)},{key:"createdAt",label:"作成日",sortable:!0,render:e=>(0,o.formatDate)(e.createdAt)}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"景品管理"}),(0,t.jsx)(l.default,{href:"/admin/prizes/new",children:(0,t.jsx)(n.default,{size:"sm",children:"新規作成"})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"text",placeholder:"景品名で検索...",value:h,onChange:e=>g(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid"}),(0,t.jsx)("select",{value:x,onChange:e=>f(e.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",children:c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsx)("div",{className:"bg-gray-900 border border-gray-800 rounded-xl overflow-hidden",children:b?(0,t.jsx)("div",{className:"px-4 py-8 text-center text-gray-500",children:"読み込み中..."}):(0,t.jsx)(s.default,{columns:p,data:d,onRowClick:t=>e.push(`/admin/prizes/${t.id}`)})})]})}e.s(["default",()=>d])}]);