(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,43504,e=>{"use strict";var r=e.i(43476),t=e.i(49838);function l({label:e,error:l,children:a,className:s}){return(0,r.jsxs)("div",{className:(0,t.cn)("space-y-1",s),children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300",children:e}),a,l&&(0,r.jsx)("p",{className:"text-xs text-red-400",children:l})]})}e.s(["default",()=>l])},10943,e=>{"use strict";var r=e.i(43476),t=e.i(71645),l=e.i(18566),a=e.i(53145),s=e.i(94814),o=e.i(81307),i=e.i(43504),d=e.i(59544);let n=o.z.object({name:o.z.string().min(1,"名前を入力してください"),description:o.z.string().optional().default(""),image:o.z.string().url("有効なURLを入力してください"),rarity:o.z.enum(["N","R","SR","SSR","UR"]),marketPrice:o.z.coerce.number().int().min(0),coinValue:o.z.coerce.number().int().min(0)});function c(){let e=(0,l.useRouter)(),[o,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(""),{register:p,handleSubmit:x,watch:g,formState:{errors:b}}=(0,a.useForm)({resolver:(0,s.zodResolver)(n),defaultValues:{name:"",description:"",image:"",rarity:"N",marketPrice:0,coinValue:0}}),h=g("image"),y=async r=>{c(!0),m("");try{let t=await fetch("/api/admin/prizes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok){let e=await t.json();m(e.error||"作成に失敗しました");return}let l=await t.json();e.push(`/admin/prizes/${l.id}`)}catch{m("作成に失敗しました")}finally{c(!1)}};return(0,r.jsxs)("div",{className:"max-w-2xl space-y-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"景品を作成"}),u&&(0,r.jsx)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg px-4 py-3 text-sm text-red-300",children:u}),(0,r.jsxs)("form",{onSubmit:x(y),className:"space-y-5",children:[(0,r.jsx)(i.default,{label:"名前",error:b.name?.message,children:(0,r.jsx)("input",{type:"text",...p("name"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"景品名を入力"})}),(0,r.jsx)(i.default,{label:"説明",error:b.description?.message,children:(0,r.jsx)("textarea",{...p("description"),rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid resize-none",placeholder:"景品の説明（任意）"})}),(0,r.jsxs)(i.default,{label:"画像URL",error:b.image?.message,children:[(0,r.jsx)("input",{type:"text",...p("image"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"https://..."}),h&&/^https?:\/\/.+/.test(h)&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("img",{src:h,alt:"プレビュー",className:"w-32 h-32 object-cover rounded-lg border border-gray-700",onError:e=>{e.target.style.display="none"}})})]}),(0,r.jsx)(i.default,{label:"レアリティ",error:b.rarity?.message,children:(0,r.jsxs)("select",{...p("rarity"),className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",children:[(0,r.jsx)("option",{value:"N",children:"N"}),(0,r.jsx)("option",{value:"R",children:"R"}),(0,r.jsx)("option",{value:"SR",children:"SR"}),(0,r.jsx)("option",{value:"SSR",children:"SSR"}),(0,r.jsx)("option",{value:"UR",children:"UR"})]})}),(0,r.jsx)(i.default,{label:"市場価格（円）",error:b.marketPrice?.message,children:(0,r.jsx)("input",{type:"number",...p("marketPrice"),min:0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"0"})}),(0,r.jsx)(i.default,{label:"コイン価値",error:b.coinValue?.message,children:(0,r.jsx)("input",{type:"number",...p("coinValue"),min:0,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-gold-mid",placeholder:"0"})}),(0,r.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,r.jsx)(d.default,{type:"submit",size:"sm",disabled:o,children:o?"作成中...":"作成"}),(0,r.jsx)(d.default,{type:"button",variant:"ghost",size:"sm",onClick:()=>e.back(),children:"キャンセル"})]})]})]})}e.s(["default",()=>c])}]);